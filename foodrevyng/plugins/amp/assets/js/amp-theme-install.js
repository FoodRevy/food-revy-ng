!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.i18n,n=window.wp.domReady,i=e.n(n),r=ampThemes;const s=wp.themes.view.Theme;var a=s.extend({isAmpCompatibleTab:()=>new URLSearchParams(window.location.search.substr(1)).get("browse")===r.AMP_COMPATIBLE,render(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(s.prototype.render.apply(this,i),0>=(null===(e=this.$el)||void 0===e?void 0:e.length)||!this.$el[0])return;const a=this.$el[0],o=this.model.toJSON();let l=null==o?void 0:o.slug;if(l||(l=null==o?void 0:o.id),l&&this.isAmpTheme(l)&&setTimeout((()=>{if(this.isAmpCompatibleTab())return;const e=document.createElement("div"),n=document.createElement("span"),i=document.createElement("span");e.classList.add("amp-extension-card-message"),n.classList.add("amp-logo-icon"),i.classList.add("tooltiptext"),i.append((0,t.__)("This is known to work well with the AMP plugin.","amp")),e.append(n,i),a.appendChild(e)})),l&&!this.isWPORGTheme(l)){const e=document.createElement("span");e.classList.add("dashicons","dashicons-external"),e.setAttribute("aria-hidden","true");const n=document.createElement("span");n.classList.add("screen-reader-text"),n.append((0,t.__)("(opens in a new tab)","amp"));const i=document.createElement("a");i.classList.add("button","button-primary"),i.append((0,t.__)("Visit Site","amp"),n,e),null!=o&&o.preview_url?i.href=o.preview_url:i.href=o.homepage,i.target="_blank",i.rel="noopener noreferrer",i.setAttribute("aria-label",(0,t.sprintf)(
/* translators: %s: theme name. */
(0,t.__)("Visit site of %s theme","amp"),o.name));const r=a.querySelector(".theme-actions");r&&(r.textContent="",r.append(i));const s=a.querySelector(".more-details");s&&(s.textContent="",s.append((0,t.__)("Visit Site","amp"),e.cloneNode(!0)))}},preview(){const e=this.model.toJSON();if(this.isWPORGTheme(e.slug)){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];s.prototype.preview.apply(this,n)}else null!=e&&e.preview_url&&window.open(e.preview_url,"_blank","noopener,noreferrer")},isAmpTheme:e=>r.AMP_THEMES.includes(e),isWPORGTheme:e=>!r.NONE_WPORG_THEMES.includes(e)});const o={init(){this.addTab(),this.overrideViews()},addTab(){const e=document.querySelector(".filter-links");if(!e)return;const n=document.createElement("li"),i=document.createElement("a");i.setAttribute("href","#"),i.setAttribute("data-sort",r.AMP_COMPATIBLE),i.append((0,t.__)("AMP Compatible","amp")),n.appendChild(i),e.appendChild(n)},overrideViews(){wp.themes.view.Theme=a}};i()((()=>{o.init()}))}();