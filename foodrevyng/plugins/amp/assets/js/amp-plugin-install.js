!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.domReady,n=e.n(t),a=window.wp.i18n,o=ampPlugins,i=window.lodash;const s={init(){this.isAmpCompatibleTab()?this.removeAdditionalInfo():this.addAmpMessage(),this.addAmpMessageInSearchResult()},isAmpCompatibleTab:()=>new URLSearchParams(window.location.search.substr(1)).get("tab")===o.AMP_COMPATIBLE,addAmpMessageInSearchResult(){const e=document.getElementById("plugin-filter"),t=document.querySelector(".plugin-install-php .wp-filter-search");if(!e||!t)return;const n=(0,i.debounce)((()=>{t.removeEventListener("input",n,{once:!0});const a=document.querySelector(".plugin-install-tab-amp-compatible");a&&(a.classList.remove("plugin-install-tab-amp-compatible"),a.classList.add("plugin-install-tab-search-result")),new MutationObserver((()=>{this.addAmpMessage()})).observe(e,{childList:!0})}),1e3);t.addEventListener("input",n,{once:!0})},addAmpMessage(){for(const e of o.AMP_PLUGINS){const t=document.querySelector(`.plugin-card.plugin-card-${e}`);if(!t)continue;if(t.classList.contains("amp-extension-card-message"))continue;const n=document.createElement("div"),o=document.createElement("span"),i=document.createElement("span");n.classList.add("amp-extension-card-message"),o.classList.add("amp-logo-icon"),i.classList.add("tooltiptext"),i.append((0,a.__)("This is known to work well with the AMP plugin.","amp")),n.append(o),n.append(i),t.appendChild(n)}},removeAdditionalInfo(){const e=document.querySelectorAll(".plugin-install-tab-amp-compatible .plugin-card-bottom");for(const t of e)t.remove()}};n()((()=>{s.init()}))}();