!function(i){window.Shareaholic=window.Shareaholic||{},window.shareaholic_debug=!0,Shareaholic.bind_button_clicks=function(t,e){e&&i(t.selector).off("click.app_settings"),i(t.selector).off("click.app_settings").on("click.app_settings",function(e){return button=this,e.preventDefault(),url=t.url(this),"#general_settings"==t.selector||"#affiliate_settings"==t.selector?(window.open(url),!1):($frame=i("<iframe>",{src:url}).appendTo("#iframe_container"),t.callback&&t.callback(this),void i("#editing_modal").reveal({topPosition:50,close:function(){t.close&&t.close(button),$frame.remove()}}))})},Shareaholic.click_objects={app_settings:{selector:"#app_settings button",url:function(e){return id=i(e).data("location_id"),app=i(e).data("app"),url=first_part_of_url+i(e).data("href")+"?embedded=true&verification_key="+verification_key,url=url.replace(/{{id}}/,id),url},callback:function(e){$modal=i(".reveal-modal"),$modal.addClass("has-shortcode"),id=i(e).data("location_id"),app=i(e).data("app"),text="You can also use this shortcode to place this {{app}} App anywhere.",html="<div id='shortcode_container'>           <span id='shortcode_description'></span>           <textarea id='shortcode' name='widget_div' onclick='select();' readonly='readonly'></textarea>         </div>",i(html).appendTo($modal),i("#shortcode_description").text(text.replace(/{{app}}/,Shareaholic.titlecase(app))),i("#shortcode").text('[shareaholic app="'+app+'" id="'+id+'"]')},close:function(e){i("#shortcode_container").remove(),i(".reveal-modal").removeClass("has-shortcode")}},affiliate_settings:{selector:"#affiliate_settings",url:function(e){return first_part_of_url+"websites/edit/?verification_key="+verification_key}},general_settings:{selector:"#general_settings",url:function(e){return first_part_of_url+"websites/edit/?verification_key="+verification_key}},app_wide_settings:{selector:".app_wide_settings",url:function(e){return url=first_part_of_url+i(e).data("href")+"?embedded=true&verification_key="+verification_key,url}}},Shareaholic.Utils.PostMessage.receive("settings_saved",{success:function(e){i('input[type="submit"]').click()},failure:function(e){console.log(e)}}),Shareaholic.titlecase=function(e){return e.charAt(0).toUpperCase()+e.replace(/_[a-z]/g,function(e){return e.toUpperCase().replace(/_/," ")}).slice(1)},Shareaholic.disable_buttons=function(){i("#app_settings button").each(function(){i(this).data("location_id")||"app_wide_settings"!=!this.id?i(this).removeAttr("disabled"):i(this).attr("disabled","disabled")})},Shareaholic.create_new_location=function(e){button=i(e).siblings("button"),app=button.data("app"),location_id=button.data("location_id"),location_id||(data={},data["configuration_"+app+"_location"]={name:/.*\[(.*)\]/.exec(i(e).attr("name"))[1]},i.ajax({url:first_part_of_url+app+"/locations.json",type:"POST",data:data,success:function(e,t,a){e.action="shareaholic_add_location",e.nonce=window.shareaholic_add_location_nonce,button.data("location_id",e.location.id),Shareaholic.disable_buttons(),Shareaholic.submit_to_admin(e,function(e){console.log(e)})},failure:function(e){console.log(e)},xhrFields:{withCredentials:!0}}))},Shareaholic.submit_to_admin=function(e,a){i.ajax({url:ajaxurl,type:"POST",data:e,success:function(t){try{t=JSON.parse(t)}catch(e){t={}}a(t)},failure:function(t){try{t=JSON.parse(t)}catch(e){t={}}a(t)}})},i(document).ready(function(){Shareaholic.disable_buttons(),Shareaholic.bind_button_clicks(Shareaholic.click_objects.app_settings),Shareaholic.bind_button_clicks(Shareaholic.click_objects.affiliate_settings),Shareaholic.bind_button_clicks(Shareaholic.click_objects.general_settings),Shareaholic.bind_button_clicks(Shareaholic.click_objects.app_wide_settings),Shareaholic.click_objects.unverified_general_settings&&Shareaholic.bind_button_clicks(Shareaholic.click_objects.unverified_general_settings,!0),i("#terms_of_service_modal").reveal({closeonbackgroundclick:!1,closeonescape:!1,topPosition:50}),i("#failed_to_create_api_key").reveal({closeonbackgroundclick:!1,closeonescape:!1,topPosition:50}),i("#get_started").on("click",function(e){e.preventDefault(),data={action:"shareaholic_accept_terms_of_service"},Shareaholic.submit_to_admin(data,function(){location.reload()})}),i("form input[type=checkbox]").on("click",function(){i(this).is(":checked")&&!i(this).data("location_id")&&Shareaholic.create_new_location(this)})})}(sQuery);